---
title: API Reference
description: REST API endpoints, request/response schemas, and integration guides.
---

# API Reference

Complete documentation for the FOS backend API.

## Base URL

```
Production: https://api.fos.ooo/v1
Staging:    https://api-staging.fos.ooo/v1
```

## Authentication

All authenticated endpoints require a Bearer token:

```bash
Authorization: Bearer <session_token>
```

---

## Endpoints

### System

#### GET /status

Returns system health and current phase information.

**Response**
```json
{
  "status": "healthy",
  "phase": "whitelist",
  "totalMinted": 1234,
  "maxSupply": 10000,
  "whitelistEnd": "2024-03-01T00:00:00Z",
  "publicStart": "2024-03-02T00:00:00Z"
}
```

---

### Allowlist

#### POST /allowlist/proof

Generates Merkle proof for an address.

**Request**
```json
{
  "address": "0x1234567890123456789012345678901234567890"
}
```

**Response**
```json
{
  "eligible": true,
  "tier": "whitelist",
  "proof": [
    "0xabc123def456...",
    "0x789012345678...",
    "0xfedcba987654..."
  ],
  "maxMint": 3
}
```

---

### Prize

#### GET /prize/:wallet

Returns prize eligibility and claim status.

**Response**
```json
{
  "wallet": "0x1234...",
  "eligible": true,
  "tiers": [
    {
      "id": "silver",
      "amount": "0.5",
      "claimed": false,
      "claimTxHash": null
    }
  ]
}
```

#### POST /prize/claim

Initiates prize claim process.

**Request**
```json
{
  "tierId": "silver",
  "wallet": "0x1234..."
}
```

---

## Data Schemas

### User

```typescript
interface User {
  wallet: string;         // Ethereum address
  roles: string[];        // Assigned roles
  preferences: {
    notifications: boolean;
    theme: 'light' | 'dark';
  };
  createdAt: string;      // ISO timestamp
}
```

### Mint

```typescript
interface Mint {
  id: string;             // Database ID
  wallet: string;         // Minter address
  tokenId: number;        // NFT token ID
  phase: 'whitelist' | 'free' | 'public';
  txHash: string;         // Transaction hash
  timestamp: string;      // ISO timestamp
}
```

### Prize

```typescript
interface Prize {
  id: string;
  tier: 'jackpot' | 'gold' | 'silver' | 'bronze';
  wallet: string;
  amount: string;         // ETH amount
  claimed: boolean;
  claimTxHash: string | null;
  timestamp: string;
}
```

---

## Error Codes

| Code | Message | Description |
|------|---------|-------------|
| 400 | Bad Request | Invalid request parameters |
| 401 | Unauthorized | Missing or invalid auth token |
| 403 | Forbidden | Insufficient permissions |
| 404 | Not Found | Resource doesn't exist |
| 429 | Rate Limited | Too many requests |
| 500 | Server Error | Internal server error |

---

## Rate Limits

| Endpoint | Limit | Window |
|----------|-------|--------|
| GET endpoints | 100 | 1 minute |
| POST endpoints | 20 | 1 minute |
| Proof generation | 10 | 1 minute |

---

See [Infrastructure](/docs/infrastructure) for deployment and DevOps details.
